name: "Run Python Unittests"
description: "Set up Python, install dependencies, and run unittests"

inputs:
  test-command:
    description: "Command to run unittests"
    required: false
    default: "python -m unittest discover tests"


runs:
  using: "composite"
  steps:
    - name: Run unit tests
      shell: bash
      run: |
        echo "ğŸ“‚ Current directory:"
        pwd
        echo "ğŸ“„ Contents:"
        ls -l
        echo "ğŸ“ tests directory:"
        ls -l tests || echo "âŒ tests directory is missing"
        # Run the tests
        python -m unittest discover -s tests -t .

        
    # This step will execute the unittest command
    - name: Run unit tests
      continue-on-error: true
      run: |
        cd $GITHUB_WORKSPACE
        ${{ inputs.test-command }}
      shell: bash